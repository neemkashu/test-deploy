(()=>{"use strict";var t={208:(t,e,n)=>{n.r(e)},290:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const a=n(541);e.default=class{constructor(t){this.productsAll=t,this.products=new Map,this.restore()}restore(){let t=[];const e=localStorage.getItem(a.CART_ID);e&&(t=JSON.parse(e),t.forEach((t=>{const e=this.getProduct(t);e&&this.products.set(`${t.id}`,e)})))}getProduct(t){var e;const n=(null===(e=this.productsAll)||void 0===e?void 0:e.find((e=>e.id===t.id)))||null;return n?Object.assign(Object.assign({},n),{amount:t.amount,getProductTotalPrice(){return this.price*this.amount}}):null}save(){const t=[];this.products.forEach((e=>{t.push({id:e.id,amount:e.amount})})),localStorage.setItem(a.CART_ID,JSON.stringify(t))}getTotalPrice(){let t=0;return this.products.forEach((e=>{t+=e.getProductTotalPrice()})),t}getTotalAmount(){let t=0;return this.products.forEach((e=>{t+=e.amount})),t}addNew(t){var e,n;const a=(null===(e=this.productsAll)||void 0===e?void 0:e.find((e=>e.id===+t)))||null;if(!a)throw new Error("product ID is not find!");const i=Object.assign(Object.assign({},a),{amount:1,getProductTotalPrice(){return this.price*this.amount}});i.id,i.amount,null===(n=this.products)||void 0===n||n.set(`${a.id}`,i),this.save()}increaseAmount(t){const e=this.products.get(t);e&&e.stock>e.amount&&(e.amount+=1,this.save())}decreaseAmount(t){const e=this.products.get(t);e&&e.amount>1&&(e.amount-=1),e&&1===e.amount&&this.drop(t),this.save()}drop(t){this.products.delete(t),this.save()}checkProductInCart(t){return this.products.has(t)}}},133:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Controller=void 0;const i=a(n(2)),s=a(n(478)),r=n(37),o=n(541);function d(t){return t instanceof HTMLInputElement?t.id:t instanceof HTMLLabelElement?t.htmlFor:null}e.Controller=class{constructor(){this.model=new s.default(document.location.href),this.view=new i.default(this.model.modelData),this.model.loadProducts().then((()=>{this.initViewAndListeners()}))}initViewAndListeners(){this.view=new i.default(this.model.modelData),this.addListeners()}addListeners(){var t,e,n,a,i,s,r,o,d,c;window.addEventListener("hashchange",this),this.model.modelData.page;{const l=this.view.getElementsForEvents().store;null===(t=l.reset)||void 0===t||t.addEventListener("click",this),null===(e=l.copy)||void 0===e||e.addEventListener("click",this),null===(n=l.category)||void 0===n||n.addEventListener("click",this),null===(a=l.brand)||void 0===a||a.addEventListener("click",this),null===(i=l.price)||void 0===i||i.addEventListener("change",this),null===(s=l.stock)||void 0===s||s.addEventListener("change",this),null===(r=l.sorting)||void 0===r||r.addEventListener("change",this),null===(o=l.searching)||void 0===o||o.addEventListener("input",this),null===(d=l.viewButtons)||void 0===d||d.addEventListener("click",this),null===(c=l.cards)||void 0===c||c.addEventListener("click",this)}}handleEvent(t){const e={[r.EventTargetsIDEnum.reset]:this.resetEvent,[r.EventTargetsIDEnum.copy]:this.copyEvent,[r.EventTargetsIDEnum.category]:this.categoryEvent,[r.EventTargetsIDEnum.brand]:this.brandEvent,[r.EventTargetsIDEnum.price]:this.priceEvent,[r.EventTargetsIDEnum.stock]:this.stockEvent,[r.EventTargetsIDEnum.sorting]:this.sortingEvent,[r.EventTargetsIDEnum.searching]:this.searchingEvent,[r.EventTargetsIDEnum.viewButtons]:this.viewButtonsEvent,[r.EventTargetsIDEnum.cards]:this.addToCartEvent};if("hashchange"===t.type)return this.model.updatePage(),void this.initViewAndListeners();t.currentTarget instanceof HTMLElement?e[t.currentTarget.id].call(this,t):console.log(`No event handler for ${t.type} and ${t.target}`)}resetEvent(t){console.log("this.model.resetFilters()"),this.initViewAndListeners()}copyEvent(t){console.log("this.view.copyURLtoClipboard()")}categoryEvent(t){if(t.target instanceof HTMLElement){const e=d(t.target);if(e){const t="input-".length;this.model.createQueryParamFromEvent("category",e.slice(t))}this.initViewAndListeners()}}brandEvent(t){if(t.target instanceof HTMLElement){const e=d(t.target);if(e){const t="input-".length;this.model.createQueryParamFromEvent("brand",e.slice(t))}this.initViewAndListeners()}}priceEvent(t){var e,n;if(t.target instanceof HTMLInputElement){const a=t.target.id,i=a===o.SLIDER_MAX_ID?"priceMax":"priceMin",s=a===o.SLIDER_MAX_ID?null===(e=this.model.shownProductInfo)||void 0===e?void 0:e.minPrice:null===(n=this.model.shownProductInfo)||void 0===n?void 0:n.maxPrice;this.model.createQueryParamFromEvent(i,t.target.value,s)}this.initViewAndListeners()}stockEvent(t){var e,n;if(t.target instanceof HTMLInputElement){const a=t.target.id,i=a===o.SLIDER_MAX_ID?"stockMax":"stockMin",s=a===o.SLIDER_MAX_ID?null===(e=this.model.shownProductInfo)||void 0===e?void 0:e.minStock:null===(n=this.model.shownProductInfo)||void 0===n?void 0:n.maxStock;this.model.createQueryParamFromEvent(i,t.target.value,s)}this.initViewAndListeners()}sortingEvent(t){var e,n;if(t.target instanceof HTMLSelectElement){const a="sorting";this.model.createQueryParamFromEvent(a,null===(e=t.target)||void 0===e?void 0:e.value),this.model.sortProducts(null===(n=t.target)||void 0===n?void 0:n.value)}this.initViewAndListeners()}searchingEvent(t){if(t.target instanceof HTMLInputElement){const e=t.target.value;this.model.createQueryParamFromEvent("searching",e)}this.initViewAndListeners()}viewButtonsEvent(t){console.log("\n            this.model.applyQueryParam(event.currentTarget);\n        "),this.initViewAndListeners()}addToCartEvent(t){var e,n,a;if(t.target instanceof HTMLButtonElement){const i=`${r.EventTargetsIDEnum.cards}-`.length,s=t.target.id.slice(i);(null===(e=this.model.cart)||void 0===e?void 0:e.checkProductInCart(s))?null===(n=this.model.cart)||void 0===n||n.drop(s):null===(a=this.model.cart)||void 0===a||a.addNew(s),this.initViewAndListeners()}}}},134:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FilterCalculator=void 0;const i=a(n(652));e.FilterCalculator=class{constructor(){this.minUserPrice=0,this.maxUserPrice=1/0,this.minUserStock=0,this.maxUserStock=1/0,this.categories=new Set,this.brands=new Set,this.searchName=""}addCategory(t){this.categories.add(t)}deleteCategory(t){this.categories.delete(t)}addBrand(t){this.brands.add(t)}deleteBrand(t){this.brands.delete(t)}updateMinUserPrice(t){this.minUserPrice=t}updateMaxUserPrice(t){this.maxUserPrice=t}updateMinUserStock(t){this.minUserStock=t}updateMaxUserStock(t){this.maxUserStock=t}updateSearchName(t){this.searchName=t.toLowerCase()}checkProductPassSearching(t){return["title","description","price","discountPercentage","brand","category","rating","stock"].some((e=>t[e].toString().toLowerCase().includes(this.searchName)))}checkProductPassFilters(t){return!(this.categories.size>0&&!this.categories.has(t.category)||this.brands.size>0&&!this.brands.has(t.brand)||this.minUserPrice>t.price||this.maxUserPrice<t.price||this.minUserStock>t.stock||this.maxUserStock<t.stock||!this.checkProductPassSearching(t))}recalculate(t,e){let n=1/0,a=0,s=1/0,r=0;const o=new Map,d=new Map,c=[];if(!t)return null;for(const e of t)this.checkProductPassFilters(e)&&(n=Math.min(n,e.price),a=Math.max(a,e.price),s=Math.min(s,e.stock),r=Math.max(r,e.stock),(0,i.default)(o,e.category),(0,i.default)(d,e.brand),c.push(e));return{minPrice:n,maxPrice:a,minStock:s,maxStock:r,categories:o,brands:d,shownProducts:c}}}},478:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=i(n(290)),r=i(n(652)),o=n(134),d=n(541),c=n(37);e.default=class{constructor(t=window.location.href){const e=new URL(t);this.queryParams=e.searchParams,this.cart=null,this.filterCalculator=new o.FilterCalculator,this.productJSON=null,this.modelData={activeFilters:{},initialFilterValues:{minPrice:1/0,maxPrice:0,minStock:1/0,maxStock:0,categories:new Map,brands:new Map},allBrands:[],allCategories:[],initialProducts:null,filteredProducts:null,currentOption:null,shownProductInfo:null,calculatedFilters:null,page:this.getPageFromURL(),detailsID:"",cart:null},this.shownProductInfo=null}loadProducts(t="https://dummyjson.com/products?limit=100"){return a(this,void 0,void 0,(function*(){try{const e=yield fetch(t),n=yield e.json();this.productJSON=n,this.readParamsFromURL(),this.findInitialFilterValues(),this.applyQueryParamsToFilter(),this.applyQueryParam(),this.cart=new s.default(this.productJSON&&this.productJSON.products),this.modelData.cart=this.cart}catch(t){throw new Error("Fail to connect dummy json")}}))}getPageFromURL(){const t=window.location.hash,e=d.PAGES_HASH.details.length;return t===d.PAGES_HASH.store||""===t?c.PageCase.store:t===d.PAGES_HASH.cart?c.PageCase.cart:t.slice(0,e)===d.PAGES_HASH.details?c.PageCase.details:c.PageCase.error}getDetailsID(){const t=d.PAGES_HASH.details.length;return window.location.hash.slice(t)}isPage(t=window.location){return console.log("check url to be url generated by the app",t),!0}updatePage(){this.modelData.page=this.getPageFromURL(),this.modelData.page===c.PageCase.details&&(this.modelData.detailsID=this.getDetailsID()),this.readParamsFromURL(),this.findInitialFilterValues(),this.applyQueryParam()}readParamsFromURL(){const t={};this.queryParams=new URL(window.location.href).searchParams;for(const e of this.queryParams.keys())c.filterParamsKeys.includes(e)?t[e]=this.queryParams.getAll(e):console.log(`${e} is not a key!`);return this.modelData.activeFilters=t,t}applyQueryParamsToFilter(){var t,e,n,a;const i=this.modelData.activeFilters;this.filterCalculator=new o.FilterCalculator,null===(t=i.brand)||void 0===t||t.map((t=>{this.filterCalculator.addBrand(t)})),null===(e=i.category)||void 0===e||e.map((t=>{this.filterCalculator.addCategory(t)})),i.priceMax&&this.filterCalculator.updateMaxUserPrice(+i.priceMax[0]),i.priceMin&&this.filterCalculator.updateMinUserPrice(+i.priceMin[0]),i.stockMax&&this.filterCalculator.updateMaxUserStock(+i.stockMax[0]),i.stockMin&&this.filterCalculator.updateMinUserStock(+i.stockMin[0]),i.searching&&this.filterCalculator.updateSearchName(i.searching[0]),this.modelData.calculatedFilters=this.filterCalculator,this.shownProductInfo=this.filterCalculator.recalculate((null===(n=this.productJSON)||void 0===n?void 0:n.products)||null,null===(a=history.state)||void 0===a?void 0:a.key)}applyQueryParamsToSorting(){var t;this.sortProducts(null===(t=this.modelData.activeFilters.sorting)||void 0===t?void 0:t[0])}findInitialFilterValues(){if(this.productJSON&&this.productJSON.products){const t=this.productJSON.products,e=[],n=[],a=t.reduce(((t,a)=>(t.minPrice=Math.min(t.minPrice,a.price),t.maxPrice=Math.max(t.maxPrice,a.price),t.minStock=Math.min(t.minStock,a.stock),t.maxStock=Math.max(t.maxStock,a.stock),e.push(a.category),n.push(a.brand),(0,r.default)(t.categories,a.category),(0,r.default)(t.brands,a.brand),t)),{minPrice:1/0,maxPrice:0,minStock:1/0,maxStock:0,categories:new Map,brands:new Map});return this.modelData.allBrands=[...new Set(n)],this.modelData.allCategories=[...new Set(e)],this.modelData.initialProducts=this.productJSON.products,this.modelData.initialFilterValues=a,a}}createQueryParamFromEvent(t,e,n){switch(t){case"sorting":this.changeParamInURL("sorting",e),this.reInit();break;case"category":this.filterCalculator.categories.has(e)?this.deleteParamFromURL("category",e):this.appendParamToURL("category",e),this.reInit();break;case"brand":this.filterCalculator.brands.has(e)?this.deleteParamFromURL("brand",e):this.appendParamToURL("brand",e),this.reInit();break;case"priceMin":n&&+e>n?(this.changeParamInURL("priceMax",e),this.changeParamInURL("priceMin",`${n}`)):this.changeParamInURL("priceMin",e),this.reInit();break;case"priceMax":n&&+e<n?(this.changeParamInURL("priceMin",e),this.changeParamInURL("priceMax",`${n}`)):this.changeParamInURL("priceMax",e),this.reInit();break;case"stockMin":n&&+e>n?(this.changeParamInURL("stockMax",e),this.changeParamInURL("stockMin",`${n}`)):this.changeParamInURL("stockMin",e),this.reInit();break;case"stockMax":n&&+e<n?(this.changeParamInURL("stockMin",e),this.changeParamInURL("stockMax",`${n}`)):this.changeParamInURL("stockMax",e),this.reInit();break;case"searching":this.changeParamInURL("searching",e),this.reInit()}}applyQueryParam(){var t;this.modelData.shownProductInfo=this.shownProductInfo,this.modelData.filteredProducts=(null===(t=this.shownProductInfo)||void 0===t?void 0:t.shownProducts)||null,this.applyQueryParamsToSorting()}getAscendingSorting(t,e){t.sort(((t,n)=>+t[e]-+n[e]))}getDescendingSorting(t,e){t.sort(((t,n)=>+n[e]-+t[e]))}sortProducts(t){if(this.modelData.filteredProducts)switch(this.modelData.currentOption=t,t){case c.SortVariantsEnum.DEFAULT:this.getAscendingSorting(this.modelData.filteredProducts,"id");break;case c.SortVariantsEnum.PRICE_ASCENDING:this.getAscendingSorting(this.modelData.filteredProducts,"price");break;case c.SortVariantsEnum.PRICE_DESCENDING:this.getDescendingSorting(this.modelData.filteredProducts,"price");break;case c.SortVariantsEnum.RATING_ASCENDING:this.getAscendingSorting(this.modelData.filteredProducts,"rating");break;case c.SortVariantsEnum.RATING_DESCENDING:this.getDescendingSorting(this.modelData.filteredProducts,"rating");break;default:this.getAscendingSorting(this.modelData.filteredProducts,"id")}}appendParamToURL(t,e){const n=new URL(window.location.href),a=n.searchParams;a.append(t,e),n.search=a.toString(),history.pushState({key:t,value:e},"",n.toString())}deleteParamFromURL(t,e){const n=new URL(window.location.href),a=n.searchParams,i=a.getAll(t).filter((t=>t!==e));a.delete(t),i.forEach((e=>{a.append(t,e)})),n.search=a.toString(),history.pushState({key:t,values:i},"",n.toString())}changeParamInURL(t,e){const n=new URL(window.location.href),a=n.searchParams;a.set(t,e),n.search=a.toString(),history.pushState({key:t,value:e},"",n.toString())}reInit(){this.readParamsFromURL(),this.applyQueryParamsToFilter(),this.applyQueryParamsToSorting(),this.applyQueryParam()}}},2:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(340),s=a(n(739)),r=a(n(999)),o=a(n(279)),d=a(n(437)),c=a(n(479)),l=a(n(356)),u=a(n(570)),h=n(37),m=a(n(418)),_=a(n(710)),v=n(541),p=n(652);e.default=class{constructor(t){this.modelData=t,this.renderPage()}renderPage(){if(this.modelData.filteredProducts){switch(this.renderHeader(),this.renderMain(),this.modelData.page){case h.PageCase.store:this.renderStorePage(),this.getDualSlider();break;case h.PageCase.details:this.renderProdDetailsPage();break;case h.PageCase.cart:this.renderCartPage();break;case h.PageCase.error:console.log("DRAW ERROR PAGE");break;default:this.renderStorePage(),this.getDualSlider()}this.renderFooter(),this.renderModal(),this.addFocusToLastUsed()}else this.renderLoadingPage()}renderLoadingPage(){document.body.innerHTML='\n            <main class="main-loading">\n                <h1 class="loading">Loading</h1>\n                <div class="loading__spinner"></div>\n            </main>\n        '}renderStorePage(){const t=document.querySelector("main");t&&(t.outerHTML=`\n                <main class="main-store">\n                    ${this.getStoreFilters(this.modelData)}\n                    ${this.getSortingSection(this.modelData)}\n                </main>\n            `)}renderProdDetailsPage(){const t=document.querySelector("main"),e=this.modelData.filteredProducts;t&&e&&(t.outerHTML=`\n                <main class="main-details">\n                    ${this.getProdDetailsContainer(e[1])}\n                </main>\n            `)}renderCartPage(){const t=document.querySelector("main"),e=this.modelData.filteredProducts;t&&e&&(t.outerHTML=`\n                <main class="main-cart">\n                    ${this.getCartContainer(e[1])}\n                    ${this.getCartSummary()}\n                </main>\n            `)}renderMain(){document.body.innerHTML+="<main></main>"}renderHeader(){document.body.innerHTML=(0,o.default)(this.modelData)}renderFooter(){document.body.innerHTML+=(0,r.default)()}renderModal(){document.body.innerHTML+=(0,s.default)()}getStoreFilters(t){return(0,d.default)(t)}getSortingSection(t){return(0,c.default)(t)}getDualSlider(){var t,e,n,a,s,r,o,d;const c=document.querySelector(`#${h.EventTargetsIDEnum.price}`),l=document.querySelector(`#${h.EventTargetsIDEnum.stock}`),u=(null===(t=this.modelData.initialFilterValues)||void 0===t?void 0:t.minPrice)||0,m=(null===(e=this.modelData.shownProductInfo)||void 0===e?void 0:e.minPrice)||0,_=(null===(n=this.modelData.initialFilterValues)||void 0===n?void 0:n.maxPrice)||1/0,p=(null===(a=this.modelData.shownProductInfo)||void 0===a?void 0:a.maxPrice)||1/0,g=(null===(s=this.modelData.initialFilterValues)||void 0===s?void 0:s.minStock)||0,f=(null===(r=this.modelData.shownProductInfo)||void 0===r?void 0:r.minStock)||0,P=(null===(o=this.modelData.initialFilterValues)||void 0===o?void 0:o.maxStock)||1/0,y=(null===(d=this.modelData.shownProductInfo)||void 0===d?void 0:d.maxStock)||1/0,b=new i.DualSlider(u,_,m,p,v.CURRENCY_SYMBOL),S=new i.DualSlider(g,P,f,y);c&&b.insertSlider(c),l&&S.insertSlider(l)}getProdDetailsContainer(t){return(0,l.default)(t)}getCartContainer(t){return(0,_.default)(t)}getCartItem(t){return(0,m.default)(t)}getCartSummary(){return(0,u.default)()}getButtonsArray(){return[...document.body.querySelectorAll("button")]}copyURLtoClipboard(){console.log("copy url")}getElementsForEvents(){return{store:{reset:document.body.querySelector(`#${h.EventTargetsIDEnum.reset}`),copy:document.body.querySelector(`#${h.EventTargetsIDEnum.copy}`),category:document.querySelector(`#${h.EventTargetsIDEnum.category}`),brand:document.querySelector(`#${h.EventTargetsIDEnum.brand}`),price:document.querySelector(`#${h.EventTargetsIDEnum.price}`),stock:document.querySelector(`#${h.EventTargetsIDEnum.stock}`),sorting:document.body.querySelector(`#${h.EventTargetsIDEnum.sorting}`),searching:document.body.querySelector(`#${h.EventTargetsIDEnum.searching}`),viewButtons:document.body.querySelector(`#${h.EventTargetsIDEnum.viewButtons}`),cards:document.body.querySelector(`#${h.EventTargetsIDEnum.cards}`)}}}addFocusToLastUsed(){const t=document.querySelector(`#${h.EventTargetsIDEnum.searching}`);if((0,p.checkSearchFocused)()&&t instanceof HTMLInputElement){const e=t.value.length;t.focus(),t.setSelectionRange(e,e)}}}},541:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CAPTION_DROP=e.CAPTION_ADD=e.CART_ID=e.PAGES_HASH=e.CURRENCY_SYMBOL=e.DUMMY_SOURCE=e.SLIDER_MIN_ID=e.SLIDER_MAX_ID=void 0,e.SLIDER_MAX_ID="dual-slider-max",e.SLIDER_MIN_ID="dual-slider-min",e.DUMMY_SOURCE="https://dummyjson.com/products?limit=100",e.CURRENCY_SYMBOL="‚Ç¨",e.PAGES_HASH={store:"#",cart:"#cart",details:"#details-id-",error:"#404"},e.CART_ID="online-store-cart-neemkashu-liestreadt",e.CAPTION_ADD="add to cart",e.CAPTION_DROP="drop from cart"},37:(t,e)=>{var n,a,i;Object.defineProperty(e,"__esModule",{value:!0}),e.PageCase=e.SortVariantsEnum=e.EventTargetsIDEnum=e.filterParamsKeys=void 0,e.filterParamsKeys=["category","brand","sorting","priceMin","priceMax","stockMin","stockMax","searching"],(i=e.EventTargetsIDEnum||(e.EventTargetsIDEnum={})).reset="button-reset",i.copy="button-copy",i.category="category-container",i.brand="brand-container",i.price="side-filter-price",i.stock="side-filter-stock",i.sorting="sorting-options",i.searching="searching-field",i.viewButtons="view-buttons-container",i.cards="card-container",(a=e.SortVariantsEnum||(e.SortVariantsEnum={})).DEFAULT="default-sort",a.PRICE_ASCENDING="ascending-price",a.PRICE_DESCENDING="descending-price",a.RATING_ASCENDING="ascending-rating",a.RATING_DESCENDING="descending-rating",(n=e.PageCase||(e.PageCase={}))[n.store=0]="store",n[n.cart=1]="cart",n[n.details=2]="details",n[n.error=3]="error"},652:(t,e)=>{function n(t,e){if(t.has(e)){const n=t.get(e);t.set(e,n+1)}else t.set(e,1)}Object.defineProperty(e,"__esModule",{value:!0}),e.checkSearchFocused=e.increaseValueInMap=void 0,e.increaseValueInMap=n,e.checkSearchFocused=function(){return!!history.state&&"searching"===history.state.key},e.default=n},710:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=a(n(418));e.default=function(t){return`\n        <section class="cart">\n            <h2 class="cart__header header_medium">\n                <div class="cart__title">\n                    Products In Cart\n                </div>\n                <div class="cart__amount">\n                    Items in cart: <span class="cart__amount-num">2</span>\n                </div>\n                <div class="cart__pagination">\n                    <div class="pagination-text">\n                        Page:\n                    </div>\n                    <a class="pagination-left">\n                        ‚Üê\n                    </a>\n                    <div class="pagination-current">\n                        1\n                    </div>\n                    <a class="pagination-right">\n                        ‚Üí\n                    </a>\n                </div>\n            </h2>\n            <div class="cart__list">\n                ${(0,i.default)(t)}\n            </div>\n        </section>\n    `}},418:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return`\n        <div class="cart-item">\n            <div class="cart-item__num">\n                1\n            </div>\n            <div class="cart-item__pic"\n                style="\n                background: url(${t.images.filter((t=>t.match(/thumbnail/))).length?t.images.filter((t=>t.match(/thumbnail/))):t.images[0]});\n                background-position: center;\n                background-size: cover;\n                background-repeat: no-repeat;\n                ">\n            </div>\n            <div class="cart-item__info">\n                <div class="cart-item__title">\n                    ${t.title}\n                </div>\n                <div class="cart-item__description">\n                    ${t.description}\n                </div>\n                <div class="cart-item__metrics">\n                    <span class="cart-item__rating">Rating: ${t.rating}</span>\n                    <span class="cart-item__discount">Discount: ${t.discountPercentage}%</span>\n                </div>\n            </div>\n            <div class="cart-item__manage">\n                <div class="cart-item__amount">\n                    Stock: <span class="amount-in-stock">${t.stock}</span>\n                </div>\n                <div class="cart-item__controls">\n                    <button class="controls-increase">\n                        +\n                    </button>\n                    <div class="controls-count">\n                        5\n                    </div>\n                    <button class="controls-decrease">\n                        -\n                    </button>\n                </div>\n                <div class="cart-item__price">\n                    ‚Ç¨46.00\n                </div>\n            </div>\n        </div>\n    `}},570:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return'\n        <sidebar class="summary">\n            <h2 class="summary__header">\n                Summary\n            </h2>\n            <div class="summary__body">\n                <div class="summary__left-side">\n                    <div class="summary__amount">\n                        Products in your cart: <span class="summary__prod-amount">3</span>\n                    </div>\n                    <div class="summary__total">\n                        Total price: ‚Ç¨<span class="summary__total-price">540</span>\n                    </div>\n                </div>\n                <div class="summary__right-side">\n                    <div class="summary__promo">\n                        <input\n                            type="search"\n                            placeholder="Enter promo code"\n                            class="summary__promo-input"\n                        >\n                    </div>\n                    <div class="summary__example">\n                        Test promo-codes: "RSS", "EPAM"\n                    </div>\n                </div>\n                <button class="summary__btn-buy">\n                    Buy Now\n                </button>\n            </div>\n        </sidebar>\n    '}},356:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return`\n        <section class="breadcrumbs">\n            <span class="breadcrumbs__item">Store</span>\n            ‚á®\n            <span class="breadcrumbs__item">${t.category}</span>\n            ‚á®\n            <span class="breadcrumbs__item">${t.brand}</span>\n            ‚á®\n            <span class="breadcrumbs__item">${t.title}</span>\n        </section>\n        <section class="details">\n            <h2 class="details__header header_medium">\n                <span class="details__header-text">${t.title}</span>\n            </h2>\n            <div class="details__body">\n                <div class="details__aside-slides">\n                    ${t.images.map((t=>`<img src="${t}" alt="macbook">`)).join("")}\n                </div>\n                <div class="details__main-picture">\n                    <img src="https://i.dummyjson.com/data/products/6/3.png" alt="macbook_id">\n                </div>\n                <div class="details__info">\n                    <div class="details__description details-item">\n                        <h2 class="details-item__head header_small">\n                            Description:\n                        </h2>\n                        <div class="details__description-text details-item__body">\n                            ${t.description}\n                        </div>\n                    </div>\n                    <div class="details__discount details-item">\n                        <h2 class="details-item__head header_small">\n                            Discount Percentage:\n                        </h2>\n                        <div class="details__discount-text details-item__body">\n                            ${t.discountPercentage} %\n                        </div>\n                    </div>\n                    <div class="details__rating details-item">\n                        <h2 class="details-item__head header_small">\n                            Rating:\n                        </h2>\n                        <div class="details__rating-text details-item__body">\n                            ${t.rating}\n                        </div>\n                    </div>\n                    <div class="details__stock details-item">\n                        <h2 class="details-item__head header_small">\n                            Stock:\n                        </h2>\n                        <div class="details__stock-text details-item__body">\n                            ${t.stock}\n                        </div>\n                    </div>\n                    <div class="details__brand details-item">\n                        <h2 class="details-item__head header_small">\n                            Brand:\n                        </h2>\n                        <div class="details__brand-text details-item__body">\n                            ${t.brand}\n                        </div>\n                    </div>\n                    <div class="details__category details-item">\n                        <h2 class="details-item__head header_small">\n                            Category:\n                        </h2>\n                        <div class="details__category-text details-item__body">\n                            ${t.category}\n                        </div>\n                    </div>\n                </div>\n                <div class="details__controls">\n                    <div class="details__price">\n                        Price: <span class="details__price-text">‚Ç¨1565</span>\n                    </div>\n                    <button class="details__btn-add-to-cart">\n                        Add to cart\n                    </button>\n                    <button class="details__btn-buy-now">\n                        Buy Now\n                    </button>\n                </div>\n            </div>\n        </section>\n    `}},999:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return'\n        <footer class="footer">\n            <p class="footer__year">2022</p>\n            <a href="https://github.com/neemkashu" class="footer__github">neemkashu</a>\n            <a href="https://github.com/liestreadt" class="footer__github">liestreadt</a>\n            <a href="https://rs.school/js/" class="footer__logo"></a>\n        </footer>\n    '}},279:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const a=n(541);e.default=function(t){var e,n;return`\n        <header class="header">\n            <a href="${a.PAGES_HASH.store}" class="header__logo">\n                <span class="header__logo-bag">\n                    üõç\n                </span>\n                <h1 class="header__store-name">Online Store</h1>\n            </a>\n            <p class="header__total">\n                Cart total: <span class="header__total-price">${a.CURRENCY_SYMBOL}${null===(e=t.cart)||void 0===e?void 0:e.getTotalPrice()}</span>\n            </p>\n            <a href="${a.PAGES_HASH.cart}" class="header__goods-number">${null===(n=t.cart)||void 0===n?void 0:n.getTotalAmount()}</a>\n        </header>\n    `}},739:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return'\n        <section class="modal">\n            <form class="modal__window">\n                <h2 class="modal__header">Personal details</h2>\n                <div class="modal__name">\n                    <input\n                        type="text"\n                        placeholder="Name"\n                        class="modal__name-input">\n                </div>\n                <div class="modal__number">\n                    <input\n                        type="text"\n                        placeholder="Phone number"\n                        class="modal__number-input">\n                </div>\n                <div class="modal__address">\n                    <input\n                        type="text"\n                        placeholder="Delivery address"\n                        class="modal__address-input">\n                </div>\n                <div class="modal__e-mail">\n                    <input\n                        type="email"\n                        placeholder="E-mail"\n                        class="modal__e-mail-input">\n                </div>\n                <div class="modal__debit-card">\n                    <h2 class="modal__header">Debit / Credit card details</h2>\n                    <div class="modal__debit-card-data">\n                        <div class="modal__debit-card-number">\n                            <input\n                                type="text"\n                                placeholder="Enter card number"\n                                class="modal__debit-card-number-input">\n                        </div>\n                        <div class="modal__debit-card-other">\n                            Valid to: <input class="modal__debit-card-valid-to-input">\n                            CVC2 / CVV2: <input class="modal__debit-card-cvc-input">\n                        </div>\n                    </div>\n                    <button class="modal__btn-confirm">\n                        CONFIRM\n                    </button>\n                </div>\n            </form>\n        </section>\n    '}},479:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(37),s=n(37),r=a(n(845));e.default=function(t){var e,n,a;const o=Object.values(i.SortVariantsEnum),d=["default","price ‚Üë (ascending)","price ‚Üì (descending)","rating ‚Üë (ascending)","rating ‚Üì (descending)"];return`\n        <section class="sorting">\n            <div class="sorting-header">\n                <select id="${s.EventTargetsIDEnum.sorting}" class="sorting__menu">\n                    ${o.map(((e,n)=>`\n                            <option value="${e}" class="sorting-option" ${e===t.currentOption?"selected":""}>Sort by ${d[n]}</option>\n                            `)).join("")}\n                </select>\n                <div class="sorting__total-found">\n                    Found: <span class="sorting__amount">${null===(e=t.filteredProducts)||void 0===e?void 0:e.length}</span>\n                </div>\n                <input\n                    type="text"\n                    name=""\n                    id="${s.EventTargetsIDEnum.searching}"\n                    class="sorting__search"\n                    value="${(null===(n=t.calculatedFilters)||void 0===n?void 0:n.searchName)||""}"\n                    placeholder="Search product">\n                <div id="${s.EventTargetsIDEnum.viewButtons}" class="sorting__view-buttons">\n                    Choose view: <button class="sorting__tiny-view">üì±</button>\n                    <button class="sorting__small-view">üíª</button>\n                </div>\n            </div>\n            <div class="sorting__card-container sorting__card-container_small" id="${s.EventTargetsIDEnum.cards}">\n                ${null===(a=t.filteredProducts)||void 0===a?void 0:a.map((e=>{var n,a;return(0,r.default)(e,null!==(a=null===(n=t.cart)||void 0===n?void 0:n.checkProductInCart(`${e.id}`))&&void 0!==a&&a)})).join("")}\n            </div>\n        </section>\n    `}},845:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const a=n(541),i=n(37);e.default=function(t,e){return`\n        <div class="product-card">\n            <h2 class="product-card__header header_small">\n                ${t.title}\n            </h2>\n            <div\n                class="product-card__body"\n                style="\n                    background: url('${t.images.filter((t=>t.match(/thumbnail/))).length?t.images.filter((t=>t.match(/thumbnail/))):t.images[0]}');\n                    background-repeat: no-repeat;\n                    background-position: center;\n                    background-size: cover;">\n                <div class="product-card__info">\n                    <div class="product-card__info-item">\n                        Category: <span class="product-card__category-text">${t.category}</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Brand: <span class="product-card__brand-text">${t.brand}</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Price: <span class="product-card__price-text">‚Ç¨${t.price}</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Discount: <span class="product-card__discount-text">${t.discountPercentage} %</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Rating: <span class="product-card__rating-text">${t.rating}</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Stock: <span class="product-card__stock-text">${t.stock}</span>\n                    </div>\n                </div>\n                <div class="product-card__controls">\n                    <button class="product-card__btn-add-to-cart" id="${i.EventTargetsIDEnum.cards}-${t.id}">\n                        ${function(t){return t?a.CAPTION_DROP.toUpperCase():a.CAPTION_ADD.toUpperCase()}(e)}\n                    </button>\n                    <a href="${a.PAGES_HASH.details}${t.id}" class="product-card__link-to-details">\n                        DETAILS\n                    </a>\n                </div>\n            </div>\n        </div>\n    `}},437:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});const a=n(37);function i(t,e,n){var a,i;const s="brand"===t?null===(a=e.calculatedFilters)||void 0===a?void 0:a.brands:null===(i=e.calculatedFilters)||void 0===i?void 0:i.categories;return s&&s.has(n)?"checked":""}function s(t,e,n){var a,i,s,r;const o="brand"===t?null===(a=n.shownProductInfo)||void 0===a?void 0:a.brands:null===(i=n.shownProductInfo)||void 0===i?void 0:i.categories,d="brand"===t?null===(s=n.initialFilterValues)||void 0===s?void 0:s.brands:null===(r=n.initialFilterValues)||void 0===r?void 0:r.categories;return`(${(null==o?void 0:o.get(e))||0}/${(null==d?void 0:d.get(e))||0})`}e.default=function(t){var e,n;return`\n        <section class="side-filter">\n            <div class="side-filter__control-buttons">\n                <button id="${a.EventTargetsIDEnum.reset}" class="side-filter__reset">\n                    Reset Filters\n                </button>\n                <button id="${a.EventTargetsIDEnum.copy}" class="side-filter__copy">\n                    Copy Link\n                </button>\n            </div>\n            <div class="side-filter__field">\n                <h2 class="side-filter__filter-header header_small">\n                    Categories\n                </h2>\n                <div id="${a.EventTargetsIDEnum.category}" class="side-filter__items-container">\n                    ${null===(e=t.allCategories)||void 0===e?void 0:e.map((e=>`\n                                <div class="category-item">\n                                    <input\n                                        type="checkbox"\n                                        id="input-${e}"\n                                        class="filter-item__checkbox"\n                                        ${i("category",t,e)}>\n                                    <label\n                                        for="input-${e}"\n                                        class="filter-item__label">\n                                        ${e}\n                                    </label>\n                                    <span class="filter-item__amount">${s("category",e,t)}</span>\n                                </div>\n                            `)).join("")}\n                </div>\n            </div>\n            <div class="side-filter__field">\n                <h2 class="side-filter__filter-header header_small">\n                    Brands\n                </h2>\n                <div id="${a.EventTargetsIDEnum.brand}" class="side-filter__items-container">\n                    ${null===(n=t.allBrands)||void 0===n?void 0:n.map((e=>`\n                                <div class="brand-item">\n                                    <input\n                                        type="checkbox"\n                                        id="input-${e}"\n                                        class="filter-item__checkbox"\n                                        ${i("brand",t,e)}>\n                                    <label\n                                        for="input-${e}"\n                                        class="filter-item__label">\n                                        ${e}\n                                    </label>\n                                    <span class="filter-item__amount">\n                                        ${s("brand",e,t)}\n                                    </span>\n                                </div>\n                            `)).join("")}\n                </div>\n            </div>\n            <div id="${a.EventTargetsIDEnum.price}" class="side-filter__field">\n                <h2 class="side-filter__filter-header header_small">\n                    Price\n                </h2>\n            </div>\n            <div id="${a.EventTargetsIDEnum.stock}" class="side-filter__field">\n                <h2 class="side-filter__filter-header header_small">\n                    Stock\n                </h2>\n            </div>\n        </section>\n    `}},340:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DualSlider=void 0;const a=n(541);e.DualSlider=class{constructor(t,e,n=t,a=e,i=""){this._minScale=t,this._maxScale=e,this._inputMin=n,this._inputMax=a,this.container=document.createElement("div"),this.container.className="dual-slider",this.units=i}initialMax(){return Number.isFinite(this.inputMax)?this.inputMax:this.maxScale}initialMin(){return 0!==this.inputMin?this.inputMin:this.minScale}updateSlider(){return this.container.innerHTML=`\n<div class="dual-slider__indicators">\n    <div id="dual-slider-label-min" class="dual-slider__label">${this.units}${this.initialMin()}</div>\n    <div for="dual-slider-label-max" class="dual-slider__label">${this.units}${this.initialMax()}</div>\n</div>\n<div class="dual-slider__inputs">\n    <input\n        type="range"\n        id="${a.SLIDER_MIN_ID}"\n        class="dual-slider__input"\n        min="${this._minScale}"\n        max="${this.maxScale}"\n        value="${this.inputMin}"\n        >\n    <input\n        type="range"\n        id="${a.SLIDER_MAX_ID}"\n        class="dual-slider__input dual-slider__max"\n        min="${this._minScale}"\n        max="${this.maxScale}"\n        value="${this.initialMax()}"\n        >\n</div>\n        `,this.addListeners(),this.container}addListeners(){const t=this.container.querySelector("#"+a.SLIDER_MAX_ID);null==t||t.addEventListener("change",this);const e=this.container.querySelector("#"+a.SLIDER_MIN_ID);null==e||e.addEventListener("change",this)}insertSlider(t){t.appendChild(this.updateSlider()),this.addListeners()}handleEvent(t){t.currentTarget instanceof HTMLInputElement&&(t.currentTarget.id===a.SLIDER_MAX_ID&&(this.inputMax=+t.currentTarget.value),t.currentTarget.id===a.SLIDER_MIN_ID&&(this.inputMin=+t.currentTarget.value))}set minScale(t){this._minScale=t,this.updateSlider()}get minScale(){return this._minScale}set maxScale(t){this._maxScale=t,this.updateSlider()}get maxScale(){return this._maxScale}set inputMin(t){this._inputMin=t,this._inputMax=Math.max(this.inputMin,this.inputMax),this.updateSlider()}get inputMin(){return this._inputMin}set inputMax(t){this._inputMax=t,this._inputMin=Math.min(this.inputMin,this.inputMax),this.updateSlider()}get inputMax(){return this._inputMax}}}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,n),s.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const t=n(133);n(208),new t.Controller})()})();