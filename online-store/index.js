(()=>{"use strict";var e={208:(e,t,n)=>{n.r(t)},290:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{}},133:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Controller=void 0;const a=i(n(2)),s=i(n(478)),r=n(37),o=n(541);function d(e){return e instanceof HTMLInputElement?e.id:e instanceof HTMLLabelElement?e.htmlFor:null}t.Controller=class{constructor(){this.model=new s.default(document.location.href),this.view=new a.default(this.model.modelData),this.model.loadProducts().then((()=>{this.initViewAndListeners()}))}initViewAndListeners(){this.view=new a.default(this.model.modelData),this.addListeners()}addListeners(){var e,t,n,i,a,s,r,o,d;window.addEventListener("hashchange",this),window.addEventListener("popstate",this),this.model.modelData.page;{const l=this.view.getElementsForEvents().store;null===(e=l.reset)||void 0===e||e.addEventListener("click",this),null===(t=l.copy)||void 0===t||t.addEventListener("click",this),null===(n=l.category)||void 0===n||n.addEventListener("click",this),null===(i=l.brand)||void 0===i||i.addEventListener("click",this),null===(a=l.price)||void 0===a||a.addEventListener("change",this),null===(s=l.stock)||void 0===s||s.addEventListener("change",this),null===(r=l.sorting)||void 0===r||r.addEventListener("change",this),null===(o=l.searching)||void 0===o||o.addEventListener("input",this),null===(d=l.viewButtons)||void 0===d||d.addEventListener("click",this)}}handleEvent(e){const t={[r.EventTargetsIDEnum.reset]:this.resetEvent,[r.EventTargetsIDEnum.copy]:this.copyEvent,[r.EventTargetsIDEnum.category]:this.categoryEvent,[r.EventTargetsIDEnum.brand]:this.brandEvent,[r.EventTargetsIDEnum.price]:this.priceEvent,[r.EventTargetsIDEnum.stock]:this.stockEvent,[r.EventTargetsIDEnum.sorting]:this.sortingEvent,[r.EventTargetsIDEnum.searching]:this.searchingEvent,[r.EventTargetsIDEnum.viewButtons]:this.viewButtonsEvent};if("hashchange"===e.type||"popstate"===e.type)return console.log("handle for hash change"),void console.log("\n            this.model.changePage(event.currentTarget.href);\n            this.initViewAndListeners();\n            ");e.currentTarget instanceof HTMLElement?t[e.currentTarget.id].call(this,e):console.log(`No event handler for ${e.type} and ${e.target}`)}resetEvent(e){console.log("this.model.resetFilters()"),this.initViewAndListeners()}copyEvent(e){console.log("this.view.copyURLtoClipboard()")}categoryEvent(e){if(e.target instanceof HTMLElement){const t=d(e.target);if(t){const e="input-".length;this.model.createQueryParamFromEvent("category",t.slice(e))}this.initViewAndListeners()}}brandEvent(e){if(e.target instanceof HTMLElement){const t=d(e.target);if(t){const e="input-".length;this.model.createQueryParamFromEvent("brand",t.slice(e))}this.initViewAndListeners()}}priceEvent(e){if(e.target instanceof HTMLInputElement){const t=e.target.id===o.SLIDER_MAX_ID?"priceMax":"priceMin";this.model.createQueryParamFromEvent(t,e.target.value)}this.initViewAndListeners()}stockEvent(e){if(e.target instanceof HTMLInputElement){const t=e.target.id===o.SLIDER_MAX_ID?"stockMax":"stockMin";this.model.createQueryParamFromEvent(t,e.target.value)}this.initViewAndListeners()}sortingEvent(e){var t,n;if(e.target instanceof HTMLOptionElement){const i="sorting";this.model.createQueryParamFromEvent(i,null===(t=e.target)||void 0===t?void 0:t.value),this.model.applyQueryParam(),this.model.sortProducts(null===(n=e.target)||void 0===n?void 0:n.value)}this.initViewAndListeners()}searchingEvent(e){if(e.target instanceof HTMLInputElement){const t=e.target.value;this.model.createQueryParamFromEvent("searching",t)}this.initViewAndListeners()}viewButtonsEvent(e){console.log("\n            this.model.applyQueryParam(event.currentTarget);\n        "),this.initViewAndListeners()}}},134:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FilterCalculator=void 0;const a=i(n(652));t.FilterCalculator=class{constructor(){this.minUserPrice=0,this.maxUserPrice=1/0,this.minUserStock=0,this.maxUserStock=1/0,this.categories=new Set,this.brands=new Set,this.searchName=""}addCategory(e){this.categories.add(e)}deleteCategory(e){this.categories.delete(e)}addBrand(e){this.brands.add(e)}deleteBrand(e){this.brands.delete(e)}updateMinUserPrice(e){this.minUserPrice=e}updateMaxUserPrice(e){this.maxUserPrice=e}updateMinUserStock(e){this.minUserStock=e}updateMaxUserStock(e){this.maxUserStock=e}updateSearchName(e){this.searchName=e.toLowerCase()}checkProductPassFilters(e){return!(this.categories.size>0&&!this.categories.has(e.category)||this.brands.size>0&&!this.brands.has(e.brand)||this.minUserPrice>e.price||this.maxUserPrice<e.price||this.minUserStock>e.stock||this.maxUserStock<e.stock||!e.title.toLowerCase().includes(this.searchName))}recalculate(e){let t=1/0,n=0,i=1/0,s=0;const r=new Map,o=new Map,d=[];if(!e)return null;for(const l of e)this.checkProductPassFilters(l)&&(t=Math.min(t,l.price),n=Math.max(n,l.price),i=Math.min(i,l.stock),s=Math.max(s,l.stock),(0,a.default)(r,l.category),(0,a.default)(o,l.brand),d.push(l));return{minPrice:t,maxPrice:n,minStock:i,maxStock:s,categories:r,brands:o,shownProducts:d}}}},478:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(a,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function o(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}d((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(290)),r=a(n(652)),o=n(134),d=n(37);t.default=class{constructor(e=window.location.href){const t=new URL(e);this.queryParams=t.searchParams,this.cart=new s.default,this.filterCalculator=new o.FilterCalculator,this.productJSON=null,this.modelData={activeFilters:{},initialFilterValues:{minPrice:1/0,maxPrice:0,minStock:1/0,maxStock:0,categories:new Map,brands:new Map},allBrands:[],allCategories:[],filteredProducts:null,page:"",shownProductInfo:null,calculatedFilters:null},this.shownProductInfo=null}loadProducts(e="https://dummyjson.com/products?limit=100"){return i(this,void 0,void 0,(function*(){try{const t=yield fetch(e),n=yield t.json();this.productJSON=n,this.readParamsFromURL(),this.findInitialFilterValues(),this.applyQueryParamsToFilter(),this.applyQueryParam(),console.log("END of loadproducts",this.modelData)}catch(e){throw new Error("Fail to connect dummy json")}}))}readParamsFromURL(){const e={};this.queryParams=new URL(window.location.href).searchParams;for(const t of this.queryParams.keys())d.filterParamsKeys.includes(t)?e[t]=this.queryParams.getAll(t):console.log(`${t} is not a key!`);return this.modelData.activeFilters=e,e}applyQueryParamsToFilter(){var e,t,n;const i=this.modelData.activeFilters;this.filterCalculator=new o.FilterCalculator,null===(e=i.brand)||void 0===e||e.map((e=>{this.filterCalculator.addBrand(e)})),null===(t=i.category)||void 0===t||t.map((e=>{this.filterCalculator.addCategory(e)})),i.priceMax&&this.filterCalculator.updateMaxUserPrice(+i.priceMax[0]),i.priceMin&&this.filterCalculator.updateMinUserPrice(+i.priceMin[0]),i.stockMax&&this.filterCalculator.updateMaxUserStock(+i.stockMax[0]),i.stockMin&&this.filterCalculator.updateMinUserStock(+i.stockMin[0]),i.searching&&this.filterCalculator.updateSearchName(i.searching[0]),this.modelData.calculatedFilters=this.filterCalculator,this.shownProductInfo=this.filterCalculator.recalculate((null===(n=this.productJSON)||void 0===n?void 0:n.products)||null)}findInitialFilterValues(){if(this.productJSON&&this.productJSON.products){const e=this.productJSON.products,t=[],n=[],i=e.reduce(((e,i)=>(e.minPrice=Math.min(e.minPrice,i.price),e.maxPrice=Math.max(e.maxPrice,i.price),e.minStock=Math.min(e.minStock,i.stock),e.maxStock=Math.max(e.maxStock,i.stock),t.push(i.category),n.push(i.brand),(0,r.default)(e.categories,i.category),(0,r.default)(e.brands,i.brand),e)),{minPrice:1/0,maxPrice:0,minStock:1/0,maxStock:0,categories:new Map,brands:new Map});return this.modelData.allBrands=[...new Set(n)],this.modelData.allCategories=[...new Set(t)],this.modelData.initialFilterValues=i,i}}createQueryParamFromEvent(e,t){switch(e){case"sorting":break;case"category":this.filterCalculator.categories.has(t)?this.deleteParamFromURL("category",t):this.appendParamToURL("category",t),this.reInit();break;case"brand":this.filterCalculator.brands.has(t)?this.deleteParamFromURL("brand",t):this.appendParamToURL("brand",t),this.reInit();break;case"priceMin":this.changeParamInURL("priceMin",t),this.reInit();break;case"priceMax":this.changeParamInURL("priceMax",t),this.reInit();break;case"stockMin":this.changeParamInURL("stockMin",t),this.reInit();break;case"stockMax":this.changeParamInURL("stockMax",t),this.reInit();break;case"searching":this.changeParamInURL("searching",t),this.reInit()}}applyQueryParam(){var e;this.modelData.shownProductInfo=this.shownProductInfo,this.modelData.filteredProducts=(null===(e=this.shownProductInfo)||void 0===e?void 0:e.shownProducts)||null}sortProducts(e){}appendParamToURL(e,t){const n=new URL(window.location.href),i=n.searchParams;i.append(e,t),n.search=i.toString(),history.pushState({key:e,value:t},"",n.toString())}deleteParamFromURL(e,t){const n=new URL(window.location.href),i=n.searchParams;let a=i.getAll(e);a=a.filter((e=>e!==t)),i.delete(e),a.map((t=>{i.append(e,t)})),n.search=i.toString(),history.pushState({key:e,values:a},"",n.toString())}changeParamInURL(e,t){const n=new URL(window.location.href),i=n.searchParams;i.set(e,t),n.search=i.toString(),history.pushState({key:e,value:t},"",n.toString())}reInit(){this.readParamsFromURL(),this.applyQueryParamsToFilter(),this.applyQueryParam()}}},2:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(340),s=i(n(739)),r=i(n(999)),o=i(n(279)),d=i(n(437)),l=i(n(479)),c=i(n(356)),u=i(n(570)),m=n(37),h=i(n(418)),_=i(n(710)),v=n(541),p=n(652);t.default=class{constructor(e){this.modelData=e,this.renderPage()}renderPage(){if(this.modelData.filteredProducts){switch(this.renderHeader(),this.renderMain(),this.modelData.page){default:this.renderStorePage(),this.getDualSlider();break;case"details":this.renderProdDetailsPage();break;case"cart":this.renderCartPage()}this.renderFooter(),this.renderModal(),this.addFocusToLastUsed()}else this.renderLoadingPage()}renderLoadingPage(){document.body.innerHTML='\n            <main class="main-loading">\n                <h1 class="loading">Loading</h1>\n                <div class="loading__spinner"></div>\n            </main>\n        '}renderStorePage(){const e=document.querySelector("main");e&&(e.outerHTML=`\n                <main class="main-store">\n                    ${this.getStoreFilters(this.modelData)}\n                    ${this.getSortingSection(this.modelData)}\n                </main>\n            `)}renderProdDetailsPage(){const e=document.querySelector("main"),t=this.modelData.filteredProducts;e&&t&&(e.outerHTML=`\n                <main class="main-details">\n                    ${this.getProdDetailsContainer(t[1])}\n                </main>\n            `)}renderCartPage(){const e=document.querySelector("main"),t=this.modelData.filteredProducts;e&&t&&(e.outerHTML=`\n                <main class="main-cart">\n                    ${this.getCartContainer(t[1])}\n                    ${this.getCartSummary()}\n                </main>\n            `)}renderMain(){document.body.innerHTML+="<main></main>"}renderHeader(){document.body.innerHTML=(0,o.default)()}renderFooter(){document.body.innerHTML+=(0,r.default)()}renderModal(){document.body.innerHTML+=(0,s.default)()}getStoreFilters(e){return(0,d.default)(e)}getSortingSection(e){return(0,l.default)(e)}getDualSlider(){var e,t,n,i,s,r,o,d;const l=document.querySelector(`#${m.EventTargetsIDEnum.price}`),c=document.querySelector(`#${m.EventTargetsIDEnum.stock}`),u=(null===(e=this.modelData.initialFilterValues)||void 0===e?void 0:e.minPrice)||0,h=(null===(t=this.modelData.calculatedFilters)||void 0===t?void 0:t.minUserPrice)||0,_=(null===(n=this.modelData.initialFilterValues)||void 0===n?void 0:n.maxPrice)||1/0,p=(null===(i=this.modelData.calculatedFilters)||void 0===i?void 0:i.maxUserPrice)||1/0,g=(null===(s=this.modelData.initialFilterValues)||void 0===s?void 0:s.minStock)||0,f=(null===(r=this.modelData.calculatedFilters)||void 0===r?void 0:r.minUserStock)||0,y=(null===(o=this.modelData.initialFilterValues)||void 0===o?void 0:o.maxStock)||1/0,b=(null===(d=this.modelData.calculatedFilters)||void 0===d?void 0:d.maxUserStock)||1/0,M=new a.DualSlider(u,_,h,p,v.CURRENCY_SYMBOL),E=new a.DualSlider(g,y,f,b);l&&M.insertSlider(l),c&&E.insertSlider(c)}getProdDetailsContainer(e){return(0,c.default)(e)}getCartContainer(e){return(0,_.default)(e)}getCartItem(e){return(0,h.default)(e)}getCartSummary(){return(0,u.default)()}getButtonsArray(){return[...document.body.querySelectorAll("button")]}copyURLtoClipboard(){console.log("copy url")}getElementsForEvents(){return{store:{reset:document.body.querySelector(`#${m.EventTargetsIDEnum.reset}`),copy:document.body.querySelector(`#${m.EventTargetsIDEnum.copy}`),category:document.querySelector(`#${m.EventTargetsIDEnum.category}`),brand:document.querySelector(`#${m.EventTargetsIDEnum.brand}`),price:document.querySelector(`#${m.EventTargetsIDEnum.price}`),stock:document.querySelector(`#${m.EventTargetsIDEnum.stock}`),sorting:document.body.querySelector(`#${m.EventTargetsIDEnum.sorting}`),searching:document.body.querySelector(`#${m.EventTargetsIDEnum.searching}`),viewButtons:document.body.querySelector(`#${m.EventTargetsIDEnum.viewButtons}`)}}}addFocusToLastUsed(){const e=document.querySelector(`#${m.EventTargetsIDEnum.searching}`);if((0,p.isSearchFocused)()&&e instanceof HTMLInputElement){const t=e.value.length;e.focus(),e.setSelectionRange(t,t)}}}},541:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENCY_SYMBOL=t.DUMMY_SOURCE=t.SLIDER_MIN_ID=t.SLIDER_MAX_ID=void 0,t.SLIDER_MAX_ID="dual-slider-max",t.SLIDER_MIN_ID="dual-slider-min",t.DUMMY_SOURCE="https://dummyjson.com/products?limit=100",t.CURRENCY_SYMBOL="€"},37:(e,t)=>{var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.sortVariantsEnum=t.EventTargetsIDEnum=t.filterParamsKeys=void 0,t.filterParamsKeys=["category","brand","sorting","priceMin","priceMax","stockMin","stockMax","searching"],(i=t.EventTargetsIDEnum||(t.EventTargetsIDEnum={})).reset="button-reset",i.copy="button-copy",i.category="category-container",i.brand="brand-container",i.price="side-filter-price",i.stock="side-filter-stock",i.sorting="sorting-options",i.searching="searching-field",i.viewButtons="view-buttons-container",(n=t.sortVariantsEnum||(t.sortVariantsEnum={})).byDefault="default-sort",n.byPriceAscending="ascending-price",n.byPriceDescending="descending-price",n.byRatingDescending="descending-rating",n.byRatingAscending="ascending-rating"},652:(e,t)=>{function n(e,t){if(e.has(t)){const n=e.get(t);e.set(t,n+1)}else e.set(t,1)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSearchFocused=t.increaseValueInMap=void 0,t.increaseValueInMap=n,t.isSearchFocused=function(){return!!history.state&&"searching"===history.state.key},t.default=n},710:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(418));t.default=function(e){return`\n        <section class="cart">\n            <h2 class="cart__header header_medium">\n                <div class="cart__title">\n                    Products In Cart\n                </div>\n                <div class="cart__amount">\n                    Items in cart: <span class="cart__amount-num">2</span>\n                </div>\n                <div class="cart__pagination">\n                    <div class="pagination-text">\n                        Page:\n                    </div>\n                    <a class="pagination-left">\n                        ←\n                    </a>\n                    <div class="pagination-current">\n                        1\n                    </div>\n                    <a class="pagination-right">\n                        →\n                    </a>\n                </div>\n            </h2>\n            <div class="cart__list">\n                ${(0,a.default)(e)}\n            </div>\n        </section>\n    `}},418:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return`\n        <div class="cart-item">\n            <div class="cart-item__num">\n                1\n            </div>\n            <div class="cart-item__pic"\n                style="\n                background: url(${e.images.filter((e=>e.match(/thumbnail/))).length?e.images.filter((e=>e.match(/thumbnail/))):e.images[0]});\n                background-position: center;\n                background-size: cover;\n                background-repeat: no-repeat;\n                ">\n            </div>\n            <div class="cart-item__info">\n                <div class="cart-item__title">\n                    ${e.title}\n                </div>\n                <div class="cart-item__description">\n                    ${e.description}\n                </div>\n                <div class="cart-item__metrics">\n                    <span class="cart-item__rating">Rating: ${e.rating}</span>\n                    <span class="cart-item__discount">Discount: ${e.discountPercentage}%</span>\n                </div>\n            </div>\n            <div class="cart-item__manage">\n                <div class="cart-item__amount">\n                    Stock: <span class="amount-in-stock">${e.stock}</span>\n                </div>\n                <div class="cart-item__controls">\n                    <button class="controls-increase">\n                        +\n                    </button>\n                    <div class="controls-count">\n                        5\n                    </div>\n                    <button class="controls-decrease">\n                        -\n                    </button>\n                </div>\n                <div class="cart-item__price">\n                    €46.00\n                </div>\n            </div>\n        </div>\n    `}},570:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return'\n        <sidebar class="summary">\n            <h2 class="summary__header">\n                Summary\n            </h2>\n            <div class="summary__body">\n                <div class="summary__left-side">\n                    <div class="summary__amount">\n                        Products in your cart: <span class="summary__prod-amount">3</span>\n                    </div>\n                    <div class="summary__total">\n                        Total price: €<span class="summary__total-price">540</span>\n                    </div>\n                </div>\n                <div class="summary__right-side">\n                    <div class="summary__promo">\n                        <input\n                            type="search"\n                            placeholder="Enter promo code"\n                            class="summary__promo-input"\n                        >\n                    </div>\n                    <div class="summary__example">\n                        Test promo-codes: "RSS", "EPAM"\n                    </div>\n                </div>\n                <button class="summary__btn-buy">\n                    Buy Now\n                </button>\n            </div>\n        </sidebar>\n    '}},356:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return`\n        <section class="breadcrumbs">\n            <span class="breadcrumbs__item">Store</span>\n            ⇨\n            <span class="breadcrumbs__item">${e.category}</span>\n            ⇨\n            <span class="breadcrumbs__item">${e.brand}</span>\n            ⇨\n            <span class="breadcrumbs__item">${e.title}</span>\n        </section>\n        <section class="details">\n            <h2 class="details__header header_medium">\n                <span class="details__header-text">${e.title}</span>\n            </h2>\n            <div class="details__body">\n                <div class="details__aside-slides">\n                    ${e.images.map((e=>`<img src="${e}" alt="macbook">`)).join("")}\n                </div>\n                <div class="details__main-picture">\n                    <img src="https://i.dummyjson.com/data/products/6/3.png" alt="macbook_id">\n                </div>\n                <div class="details__info">\n                    <div class="details__description details-item">\n                        <h2 class="details-item__head header_small">\n                            Description:\n                        </h2>\n                        <div class="details__description-text details-item__body">\n                            ${e.description}\n                        </div>\n                    </div>\n                    <div class="details__discount details-item">\n                        <h2 class="details-item__head header_small">\n                            Discount Percentage:\n                        </h2>\n                        <div class="details__discount-text details-item__body">\n                            ${e.discountPercentage} %\n                        </div>\n                    </div>\n                    <div class="details__rating details-item">\n                        <h2 class="details-item__head header_small">\n                            Rating:\n                        </h2>\n                        <div class="details__rating-text details-item__body">\n                            ${e.rating}\n                        </div>\n                    </div>\n                    <div class="details__stock details-item">\n                        <h2 class="details-item__head header_small">\n                            Stock:\n                        </h2>\n                        <div class="details__stock-text details-item__body">\n                            ${e.stock}\n                        </div>\n                    </div>\n                    <div class="details__brand details-item">\n                        <h2 class="details-item__head header_small">\n                            Brand:\n                        </h2>\n                        <div class="details__brand-text details-item__body">\n                            ${e.brand}\n                        </div>\n                    </div>\n                    <div class="details__category details-item">\n                        <h2 class="details-item__head header_small">\n                            Category:\n                        </h2>\n                        <div class="details__category-text details-item__body">\n                            ${e.category}\n                        </div>\n                    </div>\n                </div>\n                <div class="details__controls">\n                    <div class="details__price">\n                        Price: <span class="details__price-text">€1565</span>\n                    </div>\n                    <button class="details__btn-add-to-cart">\n                        Add to cart\n                    </button>\n                    <button class="details__btn-buy-now">\n                        Buy Now\n                    </button>\n                </div>\n            </div>\n        </section>\n    `}},999:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return'\n        <footer class="footer">\n            <p class="footer__year">2022</p>\n            <a href="https://github.com/neemkashu" class="footer__github">neemkashu</a>\n            <a href="https://github.com/liestreadt" class="footer__github">liestreadt</a>\n            <a href="https://rs.school/js/" class="footer__logo"></a>\n        </footer>\n    '}},279:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return'\n        <header class="header">\n            <a href="#!" class="header__logo">\n                <span class="header__logo-bag">\n                    🛍\n                </span>\n                <h1 class="header__store-name">Online Store</h1>\n            </a>\n            <p class="header__total">\n                Cart total: <span class="header__total-price">€6,232.00</span>\n            </p>\n            <a href="#!" class="header__goods-number">10</a>\n        </header>\n    '}},739:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return'\n        <section class="modal">\n            <form class="modal__window">\n                <h2 class="modal__header">Personal details</h2>\n                <div class="modal__name">\n                    <input\n                        type="text"\n                        placeholder="Name"\n                        class="modal__name-input">\n                </div>\n                <div class="modal__number">\n                    <input\n                        type="text"\n                        placeholder="Phone number"\n                        class="modal__number-input">\n                </div>\n                <div class="modal__address">\n                    <input\n                        type="text"\n                        placeholder="Delivery address"\n                        class="modal__address-input">\n                </div>\n                <div class="modal__e-mail">\n                    <input\n                        type="email"\n                        placeholder="E-mail"\n                        class="modal__e-mail-input">\n                </div>\n                <div class="modal__debit-card">\n                    <h2 class="modal__header">Debit / Credit card details</h2>\n                    <div class="modal__debit-card-data">\n                        <div class="modal__debit-card-number">\n                            <input\n                                type="text"\n                                placeholder="Enter card number"\n                                class="modal__debit-card-number-input">\n                        </div>\n                        <div class="modal__debit-card-other">\n                            Valid to: <input class="modal__debit-card-valid-to-input">\n                            CVC2 / CVV2: <input class="modal__debit-card-cvc-input">\n                        </div>\n                    </div>\n                    <button class="modal__btn-confirm">\n                        CONFIRM\n                    </button>\n                </div>\n            </form>\n        </section>\n    '}},479:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(37),s=i(n(845));t.default=function(e){var t,n,i;return`\n        <section class="sorting">\n            <div class="sorting-header">\n                <select name="" id="${a.EventTargetsIDEnum.sorting}" class="sorting__menu">\n                    <option value="default-sort" class="sorting-option" selected>Sort default</option>\n                    <option value="ascending-price" class="sorting-option">Sort by price (ascending)</option>\n                    <option value="desending-price" class="sorting-option">Sort by price (descending)</option>\n                    <option value="ascending-rating" class="sorting-option">Sort by rating (ascending)</option>\n                    <option value="descending-rating" class="sorting-option">Sort by rating (descending)</option>\n                </select>\n                <div class="sorting__total-found">\n                    Found: <span class="sorting__amount">${null===(t=e.filteredProducts)||void 0===t?void 0:t.length}</span>\n                </div>\n                <input\n                    type="text"\n                    name=""\n                    id="${a.EventTargetsIDEnum.searching}"\n                    class="sorting__search"\n                    value="${(null===(n=e.calculatedFilters)||void 0===n?void 0:n.searchName)||""}"\n                    placeholder="Search product">\n                <div id="${a.EventTargetsIDEnum.viewButtons}" class="sorting__view-buttons">\n                    Choose view: <button class="sorting__tiny-view">📱</button>\n                    <button class="sorting__small-view">💻</button>\n                </div>\n            </div>\n            <div class="sorting__card-container sorting__card-container_small">\n                ${null===(i=e.filteredProducts)||void 0===i?void 0:i.map((e=>(0,s.default)(e))).join("")}\n            </div>\n        </section>\n    `}},845:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return`\n        <div class="product-card">\n            <h2 class="product-card__header header_small">\n                ${e.title}\n            </h2>\n            <div\n                class="product-card__body"\n                style="\n                    background: url('${e.images.filter((e=>e.match(/thumbnail/))).length?e.images.filter((e=>e.match(/thumbnail/))):e.images[0]}');\n                    background-repeat: no-repeat;\n                    background-position: center;\n                    background-size: cover;">\n                <div class="product-card__info">\n                    <div class="product-card__info-item">\n                        Category: <span class="product-card__category-text">${e.category}</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Brand: <span class="product-card__brand-text">${e.brand}</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Price: <span class="product-card__price-text">€${e.price}</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Discount: <span class="product-card__discount-text">${e.discountPercentage} %</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Rating: <span class="product-card__rating-text">${e.rating}</span>\n                    </div>\n                    <div class="product-card__info-item">\n                        Stock: <span class="product-card__stock-text">${e.stock}</span>\n                    </div>\n                </div>\n                <div class="product-card__controls">\n                    <button class="product-card__btn-add-to-cart">\n                        ADD TO CART\n                    </button>\n                    <a href="#!" class="product-card__link-to-details">\n                        DETAILS\n                    </a>\n                </div>\n            </div>\n        </div>\n    `}},437:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(37);function a(e,t,n){var i,a;const s="brand"===e?null===(i=t.calculatedFilters)||void 0===i?void 0:i.brands:null===(a=t.calculatedFilters)||void 0===a?void 0:a.categories;return s&&0===s.size?"":s&&s.has(n)?"checked":""}function s(e,t,n){var i,a,s,r;const o="brand"===e?null===(i=n.shownProductInfo)||void 0===i?void 0:i.brands:null===(a=n.shownProductInfo)||void 0===a?void 0:a.categories,d="brand"===e?null===(s=n.initialFilterValues)||void 0===s?void 0:s.brands:null===(r=n.initialFilterValues)||void 0===r?void 0:r.categories;return`(${(null==o?void 0:o.get(t))||0}/${(null==d?void 0:d.get(t))||0})`}t.default=function(e){var t,n;return`\n        <section class="side-filter">\n            <div class="side-filter__control-buttons">\n                <button id="${i.EventTargetsIDEnum.reset}" class="side-filter__reset">\n                    Reset Filters\n                </button>\n                <button id="${i.EventTargetsIDEnum.copy}" class="side-filter__copy">\n                    Copy Link\n                </button>\n            </div>\n            <div class="side-filter__field">\n                <h2 class="side-filter__filter-header header_small">\n                    Categories\n                </h2>\n                <div id="${i.EventTargetsIDEnum.category}" class="side-filter__items-container">\n                    ${null===(t=e.allCategories)||void 0===t?void 0:t.map((t=>`\n                                <div class="category-item">\n                                    <input\n                                        type="checkbox"\n                                        id="input-${t}"\n                                        class="filter-item__checkbox"\n                                        ${a("category",e,t)}>\n                                    <label\n                                        for="input-${t}"\n                                        class="filter-item__label">\n                                        ${t}\n                                    </label>\n                                    <span class="filter-item__amount">${s("category",t,e)}</span>\n                                </div>\n                            `)).join("")}\n                </div>\n            </div>\n            <div class="side-filter__field">\n                <h2 class="side-filter__filter-header header_small">\n                    Brands\n                </h2>\n                <div id="${i.EventTargetsIDEnum.brand}" class="side-filter__items-container">\n                    ${null===(n=e.allBrands)||void 0===n?void 0:n.map((t=>`\n                                <div class="brand-item">\n                                    <input\n                                        type="checkbox"\n                                        id="input-${t}"\n                                        class="filter-item__checkbox"\n                                        ${a("brand",e,t)}>\n                                    <label\n                                        for="input-${t}"\n                                        class="filter-item__label">\n                                        ${t}\n                                    </label>\n                                    <span class="filter-item__amount">\n                                        ${s("brand",t,e)}\n                                    </span>\n                                </div>\n                            `)).join("")}\n                </div>\n            </div>\n            <div id="${i.EventTargetsIDEnum.price}" class="side-filter__field">\n                <h2 class="side-filter__filter-header header_small">\n                    Price\n                </h2>\n            </div>\n            <div id="${i.EventTargetsIDEnum.stock}" class="side-filter__field">\n                <h2 class="side-filter__filter-header header_small">\n                    Stock\n                </h2>\n            </div>\n        </section>\n    `}},340:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DualSlider=void 0;const i=n(541);t.DualSlider=class{constructor(e,t,n=e,i=t,a=""){this._minScale=e,this._maxScale=t,this._inputMin=n,this._inputMax=i,this.container=document.createElement("div"),this.container.className="dual-slider",this.units=a}initialMax(){return Number.isFinite(this.inputMax)?this.inputMax:this.maxScale}initialMin(){return 0!==this.inputMin?this.inputMin:this.minScale}updateSlider(){return this.container.innerHTML=`\n<div class="dual-slider__indicators">\n    <div id="dual-slider-label-min" class="dual-slider__label">${this.units}${this.initialMin()}</div>\n    <div for="dual-slider-label-max" class="dual-slider__label">${this.units}${this.initialMax()}</div>\n</div>\n<div class="dual-slider__inputs">\n    <input\n        type="range"\n        id="${i.SLIDER_MIN_ID}"\n        class="dual-slider__input"\n        min="${this._minScale}"\n        max="${this.maxScale}"\n        value="${this.inputMin}"\n        >\n    <input\n        type="range"\n        id="${i.SLIDER_MAX_ID}"\n        class="dual-slider__input dual-slider__max"\n        min="${this._minScale}"\n        max="${this.maxScale}"\n        value="${this.initialMax()}"\n        >\n</div>\n        `,this.addListeners(),this.container}addListeners(){const e=this.container.querySelector("#"+i.SLIDER_MAX_ID);null==e||e.addEventListener("change",this);const t=this.container.querySelector("#"+i.SLIDER_MIN_ID);null==t||t.addEventListener("change",this)}insertSlider(e){e.appendChild(this.updateSlider()),this.addListeners()}handleEvent(e){e.currentTarget instanceof HTMLInputElement&&(e.currentTarget.id===i.SLIDER_MAX_ID&&(this.inputMax=+e.currentTarget.value),e.currentTarget.id===i.SLIDER_MIN_ID&&(this.inputMin=+e.currentTarget.value))}set minScale(e){this._minScale=e,this.updateSlider()}get minScale(){return this._minScale}set maxScale(e){this._maxScale=e,this.updateSlider()}get maxScale(){return this._maxScale}set inputMin(e){this._inputMin=e,this._inputMax=Math.max(this.inputMin,this.inputMax),this.updateSlider()}get inputMin(){return this._inputMin}set inputMax(e){this._inputMax=e,this._inputMin=Math.min(this.inputMin,this.inputMax),this.updateSlider()}get inputMax(){return this._inputMax}}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=n(133);n(208),new e.Controller})()})();